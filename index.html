<!doctype HTML>
<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
	//Objective 3: When your page loads, via JavaScript access our prepopulated data stored in the window.geemails variable. Each object in the array has the following properties:
			//date - The date message was sent
			//subject - The subject of the message
			//sender - The sender of the message
			//body - The GeeMail message content	
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
		console.log(geemails);	
   
        for(var i =0; i<geemails.length; i++){
			console.log(geemails[i].date);
            console.log(geemails[i].sender);
            console.log(geemails[i].subject);
            console.log(geemails[i].body); 
			
			
			// Use createElement() method  (https://www.w3schools.com/jsref/met_document_createelement.asp)	to auto create div tags for data from mail.generator.js. To get data from mail.generator.js, use innerHTML() method.
			
			//Per Vic: And before you move on to #6, see if you can get the first 10 messages of the geemails to render into the browser. 
			
			var dateDiv = document.createElement("div");
            dateDiv.className = "date";
            dateDiv.innerHTML = geemails[i].subject + " | " + "From: " + geemails[i].sender + " | " + geemails[i].date;
			main.appendChild(dateDiv);
			
           	var bodyDiv = document.createElement("div");
            bodyDiv.className = "body";
            bodyDiv.innerHTML = geemails[i].body;
			bodyDiv.style.display = "none"; //Element will not be displayed by default
			dateDiv.appendChild(bodyDiv);

        }
		  
		  	//Per Vic: Once you get that done, you'll need to add some functionality to make the messages show and hide after clicking on it..
		  
		  	//This makes divs with date class clickable
		var eventElem1 = document.getElementsByClassName("date");
        for(var i = 0; i<eventElem1.length; i++){
            eventElem1[i].addEventListener("click", showBody);//Will need to do showBody function.
        }
        function showBody(){ 
           
           var eventBody = this.querySelectorAll(".body")[0];
            
            if(eventBody.style.display === "none")//hidden by default
			{
                eventBody.style.display = "block";//Element is rendered as a block-level element
            }
			else
			{
                eventBody.style.display = "none"; //Element will not be displayed
            }
        }
		
		
		//Objective 6: Set a recurring function to via the JavaScript setInterval function that will call our existing getNewMessage function that we have created for you that will return a newly created message with the same properties as your previous messages.    
		
       console.log(getNewMessage());	    

      };
    </script>
	</head>
	
	<body>
		<header align="center">
			<h3 align="right" >Welcome User</h3>
			<h1 align="left">GeeMail</h1>
		</header>
				<div class="row">
					<div class="nav" id="menu">
						<nav>
							<a href="#">Compose</a><br /><br />
							<a href="#">Inbox</a><br /><br />
							<a href="#">Sent Mail</a><br /><br />
							<a href="#">Spam</a><br /><br />
							<a href="#">Trash</a><br /><br />
							<br />
							<hr />
						</nav>
					</div>
					<div>
						<div class="container" id="main">

						</div>					
					</div>
				</div>
		<footer>
		
		</footer>
	</body>
</html>